import{S as Ce,i as Ge,s as Ie,e as G,k as B,t as H,c as I,a as F,n as P,g as J,d as q,b as g,f as U,G as k,J as ye,h as K,l as ge,T as x,N as tt,O as ie,X as Qe,a1 as Pe,W as Re,Y as Se,r as me,u as V,w as _e,x as M,a2 as rt,Z as ot,a3 as it,j as he,m as ze,o as ve,p as nt,q as ct,v as be,a4 as Le,C as st,a5 as Ne,a6 as lt,B as at}from"./vendor-f2a8298a.js";import{A as ut,F as dt,a as pt,G as ft,b as yt}from"./G03-b0cf2e07.js";function gt(o,e){return Math.floor(Math.random()*(e-o))+o}function He(o){const e=gt(0,o.length);return o[e]}const u="choices",c="yesno",d="number",f="yes",h="no",mt="F05",Je="F06",ne="G01",Ke="G03",v="randomize",ee="reverse",_t="group:1,2",te="group:2,1",ht={"snelheid.weg":[{id:"snelweg.5h",type:d,correct:130,image:ne},{id:"snelweg.6h",type:d,correct:100,image:ne},{id:"snelweg.18h",type:d,correct:100,image:ne},{id:"snelweg.19h",type:d,correct:130,image:ne},{id:"autoweg",type:d,correct:100,image:Ke},{id:"buiten",type:d,correct:80}],"snelheid.minimum":[{id:"snelweg",type:d,correct:60,image:ne},{id:"autoweg",type:d,correct:50,image:Ke}],"snelheid.voertuig":[{id:"aanhangwagen.zwaar",type:d,correct:80},{id:"aanhangwagen.licht",type:d,correct:90},{id:"caravan.zwaar",type:d,correct:80},{id:"caravan.licht",type:d,correct:90},{id:"fietsendrager",type:d,correct:100},{id:"vrachtwagen",type:d,correct:80}],"begrip.verkeer":[{id:"voetganger",type:c,correct:f},{id:"geleider.paard",type:c,correct:f},{id:"geleider.schaap",type:c,correct:f},{id:"skateboard",type:c,correct:f},{id:"weggebruiker",type:c,correct:f},{id:"weggebruiker.voetganger",type:c,correct:f},{id:"weggebruiker.geleider.paard",type:c,correct:f},{id:"weggebruiker.geleider.koe",type:c,correct:f}],"begrip.bestuurder":[{id:"voetganger",type:c,correct:h},{id:"skateboard",type:c,correct:h},{id:"ruiter",type:c,correct:f},{id:"geleider.geit",type:c,correct:f},{id:"geleider.hond",type:c,correct:h},{id:"instructeur",type:u,correct:1,reorder:v}],"begrip.motorrijtuig":[{id:"ebike",type:c,correct:h},{id:"tram",type:c,correct:h},{id:"handicap.rijtuig",type:c,correct:f},{id:"handicap.voertuig",type:c,correct:h},{id:"bromfiets",type:u,correct:0,reorder:v}],"begrip.wegen":[{id:"doorgaanderijbaan",type:c,correct:h},{id:"weefstrook",type:u,correct:0,reorder:v},{id:"tankstation",type:c,correct:h},{id:"stoep",type:c,correct:f},{id:"berm",type:c,correct:f}],"begrip.tijd":[{id:"schemering",type:u,correct:0,reorder:v},{id:"nacht",type:u,correct:0,reorder:v}],"begrip.parkeren":[{id:"instappen",type:c,correct:h},{id:"ladenlossen",type:c,correct:h},{id:"winkelen",type:c,correct:f}],militair:[{id:"vlag.voorkant",type:u,correct:1,reorder:v},{id:"vlag.midden",type:u,correct:1,reorder:te},{id:"vlag.achterkant",type:u,correct:0,reorder:v},{id:"lamp.voorkant",type:u,correct:1,reorder:te},{id:"lamp.achterkant",type:u,correct:2,reorder:v}],"voorrang.regels":[{id:"oprit.rechts",type:u,correct:1,reorder:v},{id:"oprit.links",type:u,correct:1,reorder:v},{id:"kruispunt",type:u,correct:0,reorder:v},{id:"onverhard",type:u,correct:1,reorder:v},{id:"tram",type:u,correct:1,reorder:v}],"voorrang.voetganger":[{id:"blind",type:u,correct:2,reorder:_t},{id:"oudere",type:c,correct:f}],"voorrang.versmalling":[{id:"voetganger",type:c,correct:h,image:Je},{id:"eerst",type:c,correct:h,image:mt},{id:"telaat",type:c,correct:h,image:Je}],"voorrang.sirene":[{id:"aan",type:u,correct:1,reorder:v},{id:"uit",type:u,correct:0,reorder:v}],slepen:[{id:"afstand.maximum",type:d,correct:5},{id:"vlag",type:c,correct:h},{id:"verzekering",type:c,correct:f},{id:"rijbewijs",type:c,correct:f},{id:"wielen",type:d,correct:3},{id:"bestuurder",type:u,correct:0,reorder:ee},{id:"passagiers",type:u,correct:1,reorder:v}],verplichtingen:[{id:"belasting",type:c,correct:h},{id:"kentekencard",type:u,correct:2,reorder:te},{id:"kenteken.zelfmaak",type:c,correct:h},{id:"kenteken.verschillende",type:c,correct:h},{id:"kenteken.andere",type:c,correct:h}],verboden:[{id:"ongeluk",type:c,correct:h},{id:"race",type:u,correct:1,reorder:v},{id:"laadruimte.aanhanger",type:c,correct:h},{id:"laadruimte.pickup",type:c,correct:h}],gordels:[{id:"kinderen.hals",type:u,correct:2,reorder:v},{id:"kinderen.verhoger",type:d,correct:135}],alcohol:[{id:"afbraak1",type:d,correct:1.5},{id:"afbraak5",type:d,correct:7.5},{id:"controle",type:c,correct:f},{id:"beginner",type:u,correct:0,reorder:ee},{id:"ervaren",type:u,correct:2,reorder:ee},{id:"nullimiet",type:u,correct:2,reorder:ee}],straf:[{id:"rijverbod",type:u,correct:2,reorder:ee},{id:"misdrijf",type:c,correct:f}],stoplicht:[{id:"geel",type:c,correct:f},{id:"knipper",type:u,correct:0,reorder:v},{id:"colonne.dwars",type:c,correct:h},{id:"colonne.ingevoegd",type:c,correct:h},{id:"uitvaart",type:c,correct:f}],kantstrepen:[{id:"geel.doorgetrokken",type:u,correct:2,reorder:v},{id:"geel.onderbroken",type:u,correct:0,reorder:v},{id:"blauw",type:u,correct:0,reorder:v}],markeringen:[{id:"blokmarkering",type:u,correct:0,reorder:v},{id:"verdrijvingsvlak",type:u,correct:2,reorder:v}],fietsstrook:[{id:"doorgetrokken",type:c,correct:h},{id:"onderbroken",type:c,correct:f},{id:"suggestie",type:u,correct:2,reorder:v}],plek:[{id:"beste",type:u,correct:0,reorder:v}],handicap:[{id:"stoep",type:c,correct:f},{id:"fietspad",type:c,correct:f},{id:"autoweg",type:c,correct:h},{id:"snelweg",type:c,correct:h}],tram:[{id:"parkeren",type:c,correct:f},{id:"stilstaan",type:c,correct:f}],bushalte:[{id:"voorrang.binnen",type:c,correct:f},{id:"voorrang.buiten",type:c,correct:h}],inhalen:[{id:"rechts",type:c,correct:f},{id:"invoegen",type:c,correct:f},{id:"rotonde",type:c,correct:f},{id:"snelweg",type:c,correct:h},{id:"tram",type:c,correct:f},{id:"zebrapad",type:c,correct:h}],remmen:[{id:"stopafstand",type:u,correct:1,reorder:te},{id:"remweg",type:u,correct:0,reorder:te},{id:"afstand",type:d,correct:4},{id:"seconden",type:d,correct:2}],mobiel:[{id:"woonerf",type:c,correct:h},{id:"brug",type:c,correct:f},{id:"parkeren",type:c,correct:f}],profieldiepte:[{id:"regulier",type:d,correct:1.6},{id:"winter",type:d,correct:4}],weg:[{id:"erftoegang",type:d,correct:60},{id:"gebiedsontsluiting",type:d,correct:80},{id:"stroom",type:u,correct:2,reorder:ee},{id:"groen",type:u,correct:2,reorder:v}],licht:[{id:"tunnel",type:u,correct:0,reorder:v},{id:"stadslicht",type:u,correct:1,reorder:v},{id:"grootlicht",type:c,correct:h},{id:"kapot",type:c,correct:h}],mistlicht:[{id:"300m",type:u,correct:0,reorder:v},{id:"150m",type:u,correct:1,reorder:v},{id:"voor.afstand",type:d,correct:200},{id:"voor.regen",type:c,correct:f},{id:"voor.sneeuw",type:c,correct:f},{id:"achter.afstand",type:d,correct:50},{id:"achter.regen",type:c,correct:h},{id:"achter.sneeuw",type:c,correct:f}],apk:[{id:"betekenis",type:u,correct:0,reorder:v},{id:"bewijs",type:u,correct:2,reorder:v}],"parkeren.voorrangsweg":[{id:"buiten",type:c,correct:h},{id:"binnen",type:c,correct:f},{id:"berm",type:c,correct:f}],parkeren:[{id:"kruispunt",type:d,correct:5},{id:"bushalte",type:d,correct:12},{id:"zebrapad",type:d,correct:5},{id:"erf",type:c,correct:h}],hoofdsteun:[{id:"afstellen",type:u,correct:0,reorder:te}],"lading.auto":[{id:"hoogte",type:d,correct:4},{id:"lengte",type:d,correct:12},{id:"breedte.verhard",type:d,correct:2.55},{id:"breedte.onverhard",type:d,correct:2.2}],"lading.aanhanger":[{id:"hoogte",type:d,correct:4},{id:"lengte",type:d,correct:8},{id:"breedte",type:d,correct:2.55},{id:"totaal",type:d,correct:18}],"lading.uitsteken":[{id:"deelbaar.voor",type:d,correct:0},{id:"deelbaar.zij",type:d,correct:0},{id:"deelbaar.achter",type:d,correct:1},{id:"ondeelbaar.voor",type:d,correct:1},{id:"ondeelbaar.zij.auto",type:d,correct:20},{id:"ondeelbaar.zij.aanhanger",type:d,correct:3},{id:"ondeelbaar.achter",type:d,correct:1},{id:"bord",type:d,correct:1}]},Oe=ht;function vt(){const[o,e]=Xe(),t=Object.assign({},e);return t.id=`${o}.${t.id}`,t}function We(){Fe.clear()}function bt(){We(),ce.clear()}const kt=Object.keys(Oe),ce=new Map,Fe=new Map;function Xe(){const o=kt.filter(n=>qt(n,Oe[n].length));if(o.length==0)return console.log("Out of question categories! Reset the round..."),We(),Xe();const e=He(o),t=ce.get(e);let r=Oe[e];t&&t.size>0&&(r=r.filter(n=>!t.has(n.id)));const i=He(r);return wt(e,i),[e,i]}function wt(o,e){let t=ce.get(o);t||(t=new Set,ce.set(o,t)),t.add(e.id),Fe.set(o,e.id)}function qt(o,e){if(!Fe.has(o)){const t=ce.get(o);return!t||t.size<e}return!1}const jt="source",se="component",Et={A01:{type:se,component:ut},F05:{type:se,component:dt},F06:{type:se,component:pt},G01:{type:se,component:ft},G03:{type:se,component:yt},test:{type:jt,filepath:"test.png"}},Ct=Et;function Gt(o){const e=typeof o=="string"?o:o.key,t=Ct[e];if(!t)throw Error(`Image with key '${e||o}' not found in image library.`);return t}class It{constructor(e,t,r){this.question=e,this.localisation=t,this.image=r,this.answer=null,this.isCorrect=null}}function Ye(o,e,t){const r=o.slice();return r[11]=e[t],r[13]=t,r}function Ze(o){let e,t,r,i,n,l,s=o[11]+"",a,m,y,w,Q;return{c(){e=G("label"),t=G("input"),l=B(),a=H(s),m=B(),this.h()},l(j){e=I(j,"LABEL",{class:!0});var p=F(e);t=I(p,"INPUT",{id:!0,type:!0,name:!0}),l=P(p),a=J(p,s),m=P(p),p.forEach(q),this.h()},h(){t.disabled=r=o[0].isCorrect!==null,t.__value=i=o[13],t.value=t.__value,g(t,"id",n="answer"+o[13]),g(t,"type","radio"),g(t,"name","answer"),t.required=!0,o[6][0].push(t),g(e,"class",y="choice "+(o[13]===o[4]?o[3]:void 0)+" svelte-1ev10s2")},m(j,p){U(j,e,p),k(e,t),t.checked=t.__value===o[1],k(e,l),k(e,a),k(e,m),w||(Q=ye(t,"change",o[5]),w=!0)},p(j,p){p&1&&r!==(r=j[0].isCorrect!==null)&&(t.disabled=r),p&2&&(t.checked=t.__value===j[1]),p&4&&s!==(s=j[11]+"")&&K(a,s),p&24&&y!==(y="choice "+(j[13]===j[4]?j[3]:void 0)+" svelte-1ev10s2")&&g(e,"class",y)},d(j){j&&q(e),o[6][0].splice(o[6][0].indexOf(t),1),w=!1,Q()}}}function Qt(o){let e,t=o[2],r=[];for(let i=0;i<t.length;i+=1)r[i]=Ze(Ye(o,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=ge()},l(i){for(let n=0;n<r.length;n+=1)r[n].l(i);e=ge()},m(i,n){for(let l=0;l<r.length;l+=1)r[l].m(i,n);U(i,e,n)},p(i,[n]){if(n&31){t=i[2];let l;for(l=0;l<t.length;l+=1){const s=Ye(i,t,l);r[l]?r[l].p(s,n):(r[l]=Ze(s),r[l].c(),r[l].m(e.parentNode,e))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},i:x,o:x,d(i){tt(r,i),i&&q(e)}}}function zt(o,e,t){let r,i;ie(o,Qe,p=>t(7,i=p));let{question:n}=e,l,s,a;function m(p){if(console.log(`On new question for multiple choice: ${p.question.id} (type: ${p.question.type})`),p.question.type==="yesno")switch(t(2,l=[i("yes"),i("no")]),p.answer){case"yes":t(1,s=0);break;case"no":t(1,s=1);break;default:t(1,s=void 0);break}else{t(2,l=p.localisation.choices||[]);const b=p.answer;t(1,s=typeof b=="number"?b:void 0)}}function y(p){console.log(`Multiple choice set to index: ${p}`),p===void 0?t(0,n.answer=null,n):n.question.type==="yesno"?t(0,n.answer=p===0?"yes":"no",n):t(0,n.answer=p,n)}function w(p){const b=p;if(b!==null)return console.log(`Update style to '${b?"correct":"incorrect"}'`),t(3,a=b?"correct":"incorrect"),s}const Q=[[]];function j(){s=this.__value,t(1,s)}return o.$$set=p=>{"question"in p&&t(0,n=p.question)},o.$$.update=()=>{o.$$.dirty&1&&m(n),o.$$.dirty&2&&y(s),o.$$.dirty&1&&t(4,r=w(n.isCorrect))},[n,s,l,a,r,j,Q]}class Nt extends Ce{constructor(e){super();Ge(this,e,zt,Qt,Ie,{question:0})}}function Ot(o){let e,t,r,i,n,l;return{c(){e=G("input"),this.h()},l(s){e=I(s,"INPUT",{id:!0,class:!0,placeholder:!0,min:!0,type:!0,step:!0,inputmode:!0,autocomplete:!0}),this.h()},h(){e.disabled=t=o[0].isCorrect!==null,g(e,"id","answer"),g(e,"class",r=""+(Pe(o[2])+" svelte-1s4u8zk")),g(e,"placeholder",i=o[3]("game.numberentry.placeholder")),g(e,"min","0"),g(e,"type","number"),g(e,"step","0.01"),g(e,"inputmode","numeric"),g(e,"autocomplete","off"),e.required=!0},m(s,a){U(s,e,a),Re(e,o[1]),n||(l=ye(e,"input",o[4]),n=!0)},p(s,[a]){a&1&&t!==(t=s[0].isCorrect!==null)&&(e.disabled=t),a&4&&r!==(r=""+(Pe(s[2])+" svelte-1s4u8zk"))&&g(e,"class",r),a&8&&i!==(i=s[3]("game.numberentry.placeholder"))&&g(e,"placeholder",i),a&2&&Se(e.value)!==s[1]&&Re(e,s[1])},i:x,o:x,d(s){s&&q(e),n=!1,l()}}}function Ft(o){const e=o;if(e!==null)return console.log(`Update style to '${e?"correct":"incorrect"}'`),e?"correct":"incorrect"}function At(o,e,t){let r,i;ie(o,Qe,y=>t(3,i=y));let{question:n}=e,l;function s(y){console.log(`On new question for number entry: ${y.question.id} (type: ${y.question.type})`);const w=y.answer;t(1,l=w!==null&&typeof w=="number"?w:void 0)}function a(y){console.log(`Number input set to: ${y} (type: ${typeof y})`),t(0,n.answer=typeof y=="number"?y:null,n)}function m(){l=Se(this.value),t(1,l)}return o.$$set=y=>{"question"in y&&t(0,n=y.question)},o.$$.update=()=>{o.$$.dirty&1&&s(n),o.$$.dirty&2&&a(l),o.$$.dirty&1&&t(2,r=Ft(n.isCorrect))},[n,l,r,i,m]}class Mt extends Ce{constructor(e){super();Ge(this,e,At,Ot,Ie,{question:0})}}function xe(o){let e,t,r,i;const n=[Ut,Tt],l=[];function s(a,m){return a[3].image.type==="source"?0:a[3].image.type==="component"?1:-1}return~(t=s(o))&&(r=l[t]=n[t](o)),{c(){e=G("div"),r&&r.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var m=F(e);r&&r.l(m),m.forEach(q),this.h()},h(){g(e,"class","flex-child picture box svelte-1v9jx9r")},m(a,m){U(a,e,m),~t&&l[t].m(e,null),i=!0},p(a,m){let y=t;t=s(a),t===y?~t&&l[t].p(a,m):(r&&(me(),V(l[y],1,1,()=>{l[y]=null}),_e()),~t?(r=l[t],r?r.p(a,m):(r=l[t]=n[t](a),r.c()),M(r,1),r.m(e,null)):r=null)},i(a){i||(M(r),i=!0)},o(a){V(r),i=!1},d(a){a&&q(e),~t&&l[t].d()}}}function Tt(o){let e,t,r;const i=[typeof o[3].question.image=="object"&&o[3].question.image.params?o[3].question.image.params:void 0];var n=o[3].image.component;function l(s){let a={};for(let m=0;m<i.length;m+=1)a=at(a,i[m]);return{props:a}}return n&&(e=new n(l())),{c(){e&&he(e.$$.fragment),t=ge()},l(s){e&&ze(e.$$.fragment,s),t=ge()},m(s,a){e&&ve(e,s,a),U(s,t,a),r=!0},p(s,a){const m=a&8?nt(i,[ct(typeof s[3].question.image=="object"&&s[3].question.image.params?s[3].question.image.params:void 0)]):{};if(n!==(n=s[3].image.component)){if(e){me();const y=e;V(y.$$.fragment,1,0,()=>{be(y,1)}),_e()}n?(e=new n(l()),he(e.$$.fragment),M(e.$$.fragment,1),ve(e,t.parentNode,t)):e=null}else n&&e.$set(m)},i(s){r||(e&&M(e.$$.fragment,s),r=!0)},o(s){e&&V(e.$$.fragment,s),r=!1},d(s){s&&q(t),e&&be(e,s)}}}function Ut(o){let e,t,r;return{c(){e=G("img"),this.h()},l(i){e=I(i,"IMG",{src:!0,alt:!0}),this.h()},h(){Le(e.src,t=o[3].image.filepath)||g(e,"src",t),g(e,"alt",r=o[4](`images.${o[3].question.image}.alt`))},m(i,n){U(i,e,n)},p(i,n){n&8&&!Le(e.src,t=i[3].image.filepath)&&g(e,"src",t),n&24&&r!==(r=i[4](`images.${i[3].question.image}.alt`))&&g(e,"alt",r)},i:x,o:x,d(i){i&&q(e)}}}function Vt(o){let e,t;return e=new Mt({props:{question:o[3]}}),{c(){he(e.$$.fragment)},l(r){ze(e.$$.fragment,r)},m(r,i){ve(e,r,i),t=!0},p(r,i){const n={};i&8&&(n.question=r[3]),e.$set(n)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){be(e,r)}}}function Dt(o){let e,t;return e=new Nt({props:{question:o[3]}}),{c(){he(e.$$.fragment)},l(r){ze(e.$$.fragment,r)},m(r,i){ve(e,r,i),t=!0},p(r,i){const n={};i&8&&(n.question=r[3]),e.$set(n)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){be(e,r)}}}function et(o){let e,t,r=(o[3].localisation.why||"")+"",i;return{c(){e=G("div"),t=G("p"),i=H(r),this.h()},l(n){e=I(n,"DIV",{class:!0});var l=F(e);t=I(l,"P",{class:!0});var s=F(t);i=J(s,r),s.forEach(q),l.forEach(q),this.h()},h(){g(t,"class","text svelte-1v9jx9r"),g(e,"class","reason box svelte-1v9jx9r")},m(n,l){U(n,e,l),k(e,t),k(t,i)},p(n,l){l&8&&r!==(r=(n[3].localisation.why||"")+"")&&K(i,r)},d(n){n&&q(e)}}}function $t(o){let e,t,r=o[4]("question")+"",i,n,l=o[1]+1+"",s,a=(o[0]?` / ${o[0]}`:"")+"",m,y,w,Q,j,p,b,D,R=o[3].localisation.question+"",W,ke,X,z,N,we,qe,S,T,re=o[4]("previous")+"",le,ae,je,Y,oe=o[4]("next")+"",ue,A,Ee,Ae,E=o[3].image&&xe(o);const Me=[Dt,Vt],L=[];function Te(_,C){return _[3].question.type==="choices"||_[3].question.type==="yesno"?0:_[3].question.type==="number"?1:-1}~(z=Te(o))&&(N=L[z]=Me[z](o));let O=o[3].isCorrect!==null&&et(o);return{c(){e=G("div"),t=G("h1"),i=H(r),n=B(),s=H(l),m=H(a),y=B(),w=G("form"),Q=G("div"),E&&E.c(),j=B(),p=G("div"),b=G("div"),D=G("label"),W=H(R),ke=B(),X=G("div"),N&&N.c(),we=B(),O&&O.c(),qe=B(),S=G("div"),T=G("button"),le=H(re),je=B(),Y=G("button"),ue=H(oe),this.h()},l(_){e=I(_,"DIV",{class:!0});var C=F(e);t=I(C,"H1",{class:!0});var $=F(t);i=J($,r),n=P($),s=J($,l),m=J($,a),$.forEach(q),C.forEach(q),y=P(_),w=I(_,"FORM",{autocomplete:!0,class:!0});var de=F(w);Q=I(de,"DIV",{class:!0});var pe=F(Q);E&&E.l(pe),j=P(pe),p=I(pe,"DIV",{class:!0});var Z=F(p);b=I(Z,"DIV",{class:!0});var Ue=F(b);D=I(Ue,"LABEL",{for:!0,class:!0});var Ve=F(D);W=J(Ve,R),Ve.forEach(q),Ue.forEach(q),ke=P(Z),X=I(Z,"DIV",{class:!0});var De=F(X);N&&N.l(De),De.forEach(q),we=P(Z),O&&O.l(Z),Z.forEach(q),pe.forEach(q),qe=P(de),S=I(de,"DIV",{class:!0});var fe=F(S);T=I(fe,"BUTTON",{type:!0,class:!0});var $e=F(T);le=J($e,re),$e.forEach(q),je=P(fe),Y=I(fe,"BUTTON",{type:!0,class:!0});var Be=F(Y);ue=J(Be,oe),Be.forEach(q),fe.forEach(q),de.forEach(q),this.h()},h(){g(t,"class","top-text svelte-1v9jx9r"),g(e,"class","top svelte-1v9jx9r"),g(D,"for","answer"),g(D,"class","text svelte-1v9jx9r"),g(b,"class","question box svelte-1v9jx9r"),g(X,"class","choices box svelte-1v9jx9r"),g(p,"class","flex-child svelte-1v9jx9r"),g(Q,"class","flex-parent svelte-1v9jx9r"),T.disabled=ae=o[1]<=0,g(T,"type","button"),g(T,"class","bottom-button svelte-1v9jx9r"),g(Y,"type","submit"),g(Y,"class","bottom-button button-next svelte-1v9jx9r"),g(S,"class","bottom svelte-1v9jx9r"),g(w,"autocomplete","off"),g(w,"class","game svelte-1v9jx9r")},m(_,C){U(_,e,C),k(e,t),k(t,i),k(t,n),k(t,s),k(t,m),U(_,y,C),U(_,w,C),k(w,Q),E&&E.m(Q,null),k(Q,j),k(Q,p),k(p,b),k(b,D),k(D,W),k(p,ke),k(p,X),~z&&L[z].m(X,null),k(p,we),O&&O.m(p,null),k(w,qe),k(w,S),k(S,T),k(T,le),k(S,je),k(S,Y),k(Y,ue),o[8](w),A=!0,Ee||(Ae=[ye(T,"click",o[7]),ye(w,"submit",rt(o[6]))],Ee=!0)},p(_,[C]){(!A||C&16)&&r!==(r=_[4]("question")+"")&&K(i,r),(!A||C&2)&&l!==(l=_[1]+1+"")&&K(s,l),(!A||C&1)&&a!==(a=(_[0]?` / ${_[0]}`:"")+"")&&K(m,a),_[3].image?E?(E.p(_,C),C&8&&M(E,1)):(E=xe(_),E.c(),M(E,1),E.m(Q,j)):E&&(me(),V(E,1,1,()=>{E=null}),_e()),(!A||C&8)&&R!==(R=_[3].localisation.question+"")&&K(W,R);let $=z;z=Te(_),z===$?~z&&L[z].p(_,C):(N&&(me(),V(L[$],1,1,()=>{L[$]=null}),_e()),~z?(N=L[z],N?N.p(_,C):(N=L[z]=Me[z](_),N.c()),M(N,1),N.m(X,null)):N=null),_[3].isCorrect!==null?O?O.p(_,C):(O=et(_),O.c(),O.m(p,null)):O&&(O.d(1),O=null),(!A||C&16)&&re!==(re=_[4]("previous")+"")&&K(le,re),(!A||C&2&&ae!==(ae=_[1]<=0))&&(T.disabled=ae),(!A||C&16)&&oe!==(oe=_[4]("next")+"")&&K(ue,oe)},i(_){A||(M(E),M(N),A=!0)},o(_){V(E),V(N),A=!1},d(_){_&&q(e),_&&q(y),_&&q(w),E&&E.d(),~z&&L[z].d(),O&&O.d(),o[8](null),Ee=!1,ot(Ae)}}}function Bt(o,e,t){let r,i,n;ie(o,it,b=>t(9,i=b)),ie(o,Qe,b=>t(4,n=b));let{numberOfQuestions:l=null}=e;bt();const s=[],a=st();ie(o,a,b=>t(3,r=b));let m=0,y;function w(){if(m<s.length)Ne(a,r=s[m],r);else{const b=vt(),D=b.image?Gt(b.image):null,R=i(b.id);if(console.log(`New question: ${b.id}`),!R)throw Error(`Missing localisation for '${b.id}'`);const W=new It(b,R,D);s.push(W),Ne(a,r=W,r)}}function Q(){if(!!y.checkValidity()){if(r.isCorrect===null){Ne(a,r.isCorrect=r.question.correct===r.answer,r),console.log(`Is correct: ${r.isCorrect}`);return}t(1,m++,m),w()}}function j(){m>0&&(t(1,m--,m),w())}w();function p(b){lt[b?"unshift":"push"](()=>{y=b,t(2,y)})}return o.$$set=b=>{"numberOfQuestions"in b&&t(0,l=b.numberOfQuestions)},[l,m,y,r,n,a,Q,j,p]}class St extends Ce{constructor(e){super();Ge(this,e,Bt,$t,Ie,{numberOfQuestions:0})}}export{St as G};
